-- Auto Walk dan Simple Recording Script for Mobile Executor Roblox

local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hum = char:WaitForChild("Humanoid")
local runService = game:GetService("RunService")
local userInput = game:GetService("UserInputService")

local autoWalkActive = false
local recording = false
local recordedPositions = {}

-- Fungsi toggle Auto Walk (jalan otomatis maju)
local function toggleAutoWalk()
    autoWalkActive = not autoWalkActive
    if autoWalkActive then
        print("Auto Walk Activated")
    else
        print("Auto Walk Deactivated")
    end
end

-- Fungsi mulai rekam posisi karakter
local function startRecording()
    recordedPositions = {}
    recording = true
    print("Recording started")
end

-- Fungsi berhenti rekam posisi
local function stopRecording()
    if recording then
        recording = false
        print("Recording stopped, "..#recordedPositions.." frames recorded")
    else
        print("Recording is not active")
    end
end

-- Fungsi hapus rekaman
local function deleteRecording()
    recordedPositions = {}
    print("Recording deleted")
end

-- Fungsi simpan rekaman (simulasi, bisa di konek DataStore untuk permanen)
local function saveRecording()
    if #recordedPositions > 0 then
        print("Recording saved with "..#recordedPositions.." frames")
        -- Tambahkan kode penyimpanan ke DataStore jika perlu
    else
        print("No recording to save")
    end
end

-- Fungsi putar rekaman dengan memindahkan karakter ke posisi yang direkam
local function playRecording()
    if #recordedPositions == 0 then
        print("No recording available for playback")
        return
    end

    spawn(function()
        for _, pos in ipairs(recordedPositions) do
            if char and char.PrimaryPart then
                char:SetPrimaryPartCFrame(CFrame.new(pos))
            end
            wait(0.1) -- jeda antar frame
        end
        print("Playback finished")
    end)
end

-- Fungsi stop playback (belum implementasi stop dinamis)
local function stopPlayback()
    print("Stop playback pressed (feature not implemented)")
end

-- Eksekusi Auto Walk dan rekam posisi tiap frame jika aktif
runService.RenderStepped:Connect(function()
    if autoWalkActive then
        hum:Move(Vector3.new(0, 0, -1), true) -- jalan maju relatif ke kamera
    end
    if recording and char and char.PrimaryPart then
        table.insert(recordedPositions, char.PrimaryPart.Position)
    end
end)

-- Event input key untuk kendali fitur (atau bisa sesuaikan input mobile di executor)
userInput.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end

    if input.KeyCode == Enum.KeyCode.P then
        toggleAutoWalk()
    elseif input.KeyCode == Enum.KeyCode.R then
        startRecording()
    elseif input.KeyCode == Enum.KeyCode.T then
        stopRecording()
    elseif input.KeyCode == Enum.KeyCode.Y then
        deleteRecording()
    elseif input.KeyCode == Enum.KeyCode.U then
        saveRecording()
    elseif input.KeyCode == Enum.KeyCode.I then
        playRecording()
    elseif input.KeyCode == Enum.KeyCode.O then
        stopPlayback()
    end
end)

print("Script loaded: Use keys P,AUTO WALK; R,START REC; T,STOP REC; Y,DELETE; U,SAVE; I,PLAY; O,STOP PLAYBACK")
