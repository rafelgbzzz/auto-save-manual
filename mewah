local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- Fungsi bantu buat instance UI
local function createInstance(className, props)
    local inst = Instance.new(className)
    for k, v in pairs(props or {}) do
        inst[k] = v
    end
    return inst
end

-- Buat ScreenGui di PlayerGui jika ada, atau buat new
local playerGui = player:FindFirstChildOfClass("PlayerGui") or Instance.new("PlayerGui", player)

local screenGui = createInstance("ScreenGui", {
    Name = "ZeroKageゼロ影",
    Parent = playerGui,
    ResetOnSpawn = false,
})

local frame = createInstance("Frame", {
    Size = UDim2.new(0, 400, 0, 150),
    Position = UDim2.new(0.5, 0, 0.5, 0),
    AnchorPoint = Vector2.new(0.5, 0.5),
    BackgroundColor3 = Color3.fromRGB(30, 30, 30),
    BorderSizePixel = 0,
    Parent = screenGui,
})

local keyInput = createInstance("TextBox", {
    PlaceholderText = "Masukkan Key Disini",
    Size = UDim2.new(0.9, 0, 0, 35),
    Position = UDim2.new(0.05, 0, 0.2, 0),
    BackgroundColor3 = Color3.fromRGB(50, 50, 50),
    TextColor3 = Color3.new(1,1,1),
    Font = Enum.Font.Gotham,
    TextSize = 18,
    ClearTextOnFocus = false,
    Parent = frame,
})

local statusLabel = createInstance("TextLabel", {
    Text = "Status: Belum diverifikasi",
    Size = UDim2.new(0.9, 0, 0, 25),
    Position = UDim2.new(0.05, 0, 0.55, 0),
    BackgroundTransparency = 1,
    TextColor3 = Color3.new(1,1,1),
    Font = Enum.Font.Gotham,
    TextSize = 16,
    Parent = frame,
})

local verifyButton = createInstance("TextButton", {
    Text = "Verifikasi Key",
    Size = UDim2.new(0.9, 0, 0, 40),
    Position = UDim2.new(0.05, 0, 0.77, 0),
    BackgroundColor3 = Color3.fromRGB(45, 120, 230),
    TextColor3 = Color3.new(1,1,1),
    Font = Enum.Font.GothamBold,
    TextSize = 18,
    Parent = frame,
})

local validKeys = {
    ["ZEROKAGE123"] = true,
    ["ZEROKAGE456"] = true,
}

local isKeyValid = false

local function verifyKey(inputKey)
    if validKeys[inputKey] then
        isKeyValid = true
        statusLabel.Text = "Status: Key valid! Akses diberikan."
        print(player.Name .. " menggunakan UI/script dengan key valid.")
    else
        isKeyValid = false
        statusLabel.Text = "Status: Key tidak valid. Coba lagi."
    end
end

verifyButton.MouseButton1Click:Connect(function()
    verifyKey(keyInput.Text)
end)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.E then
        frame.Visible = not frame.Visible
    end
end)
